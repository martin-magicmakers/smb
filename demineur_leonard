#L√©onard √©tait absent ce jeudi et n'a pas pu finaliser son jeu aussi loin que ses camarades, notamment au niveau de l'affichage. Mais son projet fonctionne quand m√™me bien !

import random

taille_grille = 3
nb_bombes = 2

# G√©n√©ration de toutes les coordonn√©es possibles de la grille

liste_cases = []
liste_lignes = range(taille_grille)
liste_colonnes = range(taille_grille)

for ligne in liste_lignes:
  for colonne in liste_colonnes:
    liste_cases.append((ligne, colonne))

liste_bombes = random.sample(liste_cases, nb_bombes)

cases_decouvertes = []

cases_marquees = []


def compter_bombes_autour(ligne, colonne):
  compteur_bombes = 0
  for i in [ligne-1, ligne, ligne+1]:
    for j in [colonne-1, colonne, colonne+1]:
      if (i,j) in liste_bombes:
        compteur_bombes += 1

  return compteur_bombes


def afficher_grille():

    print("\n   " + " ".join(str(i) for i in range(taille_grille)))
    print("  " + "--" * taille_grille)

    for ligne in range(taille_grille):
        texte_ligne = f"{ligne+1}|"
        for colonne in range(taille_grille):
          point = (ligne, colonne)

          if point in cases_decouvertes:
            if point in liste_bombes:
              texte_ligne += "üí£"
            else:
              nb = compter_bombes_autour(ligne, colonne)
              texte_ligne += str(nb)
          
          else:
            texte_ligne += "X‚Äã"

        print(texte_ligne)



def jouer():
    print("yo la team")

    print(f"il y a{nb_bombes} cach√©es dans la grille;")

    while True:

      afficher_grille()
      nombre_total_case_sansbombe = taille_grille * taille_grille - nb_bombes

      if len(cases_decouvertes) == nombre_total_case_sansbombe:
        print("ta ganger mais meme une pierre a plus perc√©e que toi donc retourne fair t playback de 92i")
        break

      ligne_choisie = int(input("choisi une ligne :"))
      colonne_choisie = int(input("choisi une colone : "))

      coordonnes_choisies = (ligne_choisie, colonne_choisie)

      if coordonnes_choisies in cases_decouvertes:
        print("case d√©j√† choisi tu a l'inteligence ")
        continue

      elif coordonnes_choisies in liste_bombes:
        print("game over")
        break
      
      else:
        cases_decouvertes.append(coordonnes_choisies)

    

jouer()

